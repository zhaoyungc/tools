(function(){"use strict";var e={75364:function(e,t,a){function o(){let e=window.devicePixelRatio||1,t={width:window.screen.width*e,height:window.screen.height*e};const a=/iphone/gi.test(navigator.userAgent)&&(t.height>=2436||1792===t.height);return a}function n(e){let t="";e||(e=location.href);const a=e.split("?");t=a[1]?"?"+a[1]:"";const o={},n=new RegExp("([^?=&]+)(=([^&]*))?","g");return t.replace(n,(function(e,t,a,n){o[t]=n})),o}function s(){return!0}a.d(t,{a0:function(){return o},qI:function(){return n},zQ:function(){return s}})},51243:function(e,t,a){var o=a(85471),n=function(){var e=this,t=e._self._c;return t("AutoPage",{on:{eventLoadedFunc:e.eventLoadedFunc},scopedSlots:e._u([{key:"test-props",fn:function(e){return[t("TestProps",{attrs:{msg:e.props}})]}},{key:"test-normal",fn:function(e){return[t("TestNormal",{attrs:{msg:e.props}})]}}])})},s=[],r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"auto_page",attrs:{id:"app"}},[e.loaded?[t("OnLinePreview",{attrs:{config:e.configData.pageConfig,configData:e.configData,evtId:e.$root.pageId},scopedSlots:e._u([e._l(e.$scopedSlots,(function(a,o,n){return{key:o,fn:function(a){return[t("div",{key:n},[e._t(o,null,{props:e.getKeyVal(a)})],2)]}}}))],null,!0)})]:t("div",{staticClass:"loading_ct"},[t("Icons",{staticClass:"loading",attrs:{type:"loading"}})],1)],2)},l=[],i=(a(44114),a(73441)),c=a(16858),u=a(3866);function p(e={}){if(e.constructor==Array){const t=[];return(e||[]).forEach((e=>{t.push(p(e))})),t}if(e.propsData)return{type:e.type,kind:e.kind,disableData:e.disableData||{},styleData:e.styleData&&p(e.styleData),propsData:e.propsData&&p(e.propsData),eventData:e.eventData&&p(e.eventData),requestData:e.requestData&&p(e.requestData),extraData:e.extraData&&p(e.extraData)};{const t={};for(const a in e)Object.hasOwnProperty.call(e,a)&&("array"==e[a].type?t[a]=p(e[a].value):"arrayObject"==e[a].type?t[a]=e[a].value.map((e=>e.value)):"object"==e[a].type?t[a]=p(e[a].value):e[a].constructor==Array?t[a]=p(e[a]):t[a]=e[a].value);return t}}function d(e={},t,a,o){if(o){const a=JSON.parse(JSON.stringify(t));for(const t in e)if(Object.hasOwnProperty.call(e,t)&&a[t])if("array"==a[t].type){const o=[],n=e[t]||[];n.forEach((e=>{const n=JSON.parse(JSON.stringify(a[t].value[0]||{}));for(const t in e)n[t].value=e[t],n[t].rebaseTypeKeys&&e[n[t].rebaseTypeKeys]&&(n[t].type=e[n[t].rebaseTypeKeys]);"json"==e.cusType&&(n.value.value=e.value),o.push(n)})),a[t].value=o}else{const o=e[t]||{},n=JSON.parse(JSON.stringify(a[t].value||{}));for(const e in o)n[e].value=o[e],n[e].rebaseTypeKeys&&o[n[e].rebaseTypeKeys]&&(n[e].type=o[n[e].rebaseTypeKeys]);"json"==o.cusType&&(n.value.value=o.value),a[t].value=n}return a}if(e.kind&&e.type){const t=a[e.kind],o=t.childs[e.type];if(o){const n=JSON.parse(JSON.stringify(o)),s={name:t.name,kind:t.kind,componentsName:t.componentsName,type:n.type,moduleName:n.moduleName||"",disableData:{...n.disableData,...e.disableData},styleData:n.styleData,propsData:n.propsData,extraData:n.extraData,eventData:n.eventData,requestData:n.requestData,contactChange:t.contactChange||null,treeSelectMask:!1};return{...s,styleData:s.styleData&&d(e.styleData,s.styleData,a),propsData:s.propsData&&d(e.propsData,s.propsData,a),eventData:s.eventData&&d(e.eventData,s.eventData,a),requestData:s.requestData&&d(e.requestData,s.requestData,a),extraData:s.extraData&&d(e.extraData,s.extraData,a,!0)}}return{}}if(e.propsData){const o=JSON.parse(JSON.stringify(t));return{...o,styleData:o.styleData&&d(e.styleData,o.styleData,a),propsData:o.propsData&&d(e.propsData,o.propsData,a),eventData:o.eventData&&d(e.eventData,o.eventData,a),requestData:o.requestData&&d(e.requestData,o.requestData,a),extraData:o.extraData&&d(e.extraData,o.extraData,a,!0)}}if("{}"==JSON.stringify(e))return JSON.parse(JSON.stringify(t));{const o=JSON.parse(JSON.stringify(t));for(const t in e)if(Object.hasOwnProperty.call(e,t)&&o[t])if(e[t]&&e[t].constructor==Array)if("checkbox"==o[t].type)o[t].value=e[t];else{const n=[];e[t].forEach((e=>{if(o[t].value[0])if("arrayObject"==o[t].type){const a=JSON.parse(JSON.stringify(o[t].value[0]));a.value=e,n.push(a)}else n.push(d(e,o[t].value[0],a));else n.push(d(e,a,a))})),o[t].value=n}else"object"==o[t].type?o[t].value=d(e[t],o[t].value,a):0===e[t]?o[t].value=0:o[t].value=e[t]||"";return o}}function f(e,t,a){const o=c.A.getConfig(t,a),n=e||{};if(e.all){const t=(e.all.styleData||{}).colorList||[];if(0==t.length)e.all.styleData={...e.all.styleData,colorList:p(o.styleData).colorList};else if(t.length>0){const a=t,n=p(o.styleData).colorList;a.forEach((e=>{let t=!1;n.forEach((a=>{a.keys==e.keys&&(a.name=e.name,a.color=e.color,t=!0)})),t||n.push({...e,name:e.name})})),e.all.styleData={...e.all.styleData,colorList:n}}n.all=d(e.all,o,{})}else n.all=o;if(e.pageConfig){const t=u.A.getConfig(),a=[];e.pageConfig.forEach((e=>{a.push(d(e,t,t))})),n.pageConfig=a}else n.pageConfig=[];return n.staticData=e.staticData||{},n}var g={name:"OnLinePreview",props:{config:{type:Array,default:()=>[]},configData:{type:Object,default:()=>({})},evtId:{type:String,default:()=>"0"}},components:{...i.A},data:()=>({}),computed:{colorList(){return this.configData.all?p(this.configData.all.styleData.colorList.value):[]}},methods:{getResetColorValue(e){const t=JSON.parse(JSON.stringify(e));if(t&&"object"==typeof t)if(t.constructor==Object){for(const e in t)Object.hasOwnProperty.call(t,e)&&"object"==typeof t[e]&&(t[e]=this.getResetColorValue(t[e]));if("color"==t.type&&t.value.indexOf("#")<0){let e={};for(let a=0;a<this.colorList.length;a++){const o=this.colorList[a];if(o.keys==t.value){e=o;break}}e.color&&(t.value=e.color)}}else if(t.constructor==Array){let e=[];return t.forEach((t=>{e.push(this.getResetColorValue(t))})),e}return t},func(e){},childLazyLoad(e){e&&e.length>0&&e.forEach(((e,t)=>{if("tab"==e.kind){const t=e.propsData.tabsConfig.value||[];t.forEach((e=>{this.childLazyLoad(e.children.value)}))}else"container"==e.kind?this.childLazyLoad(e.propsData.children.value):e.componentsName&&i.A[e.componentsName]&&i.A[e.componentsName].constructor==Function&&i.A[e.componentsName](this.func)}))},getChildProps(e){return{type:e.type,editType:this.editType,staticData:{data:{evt_id:this.evtId||"0"},disableData:e.disableData,propsData:p(this.getResetColorValue(e.propsData)),eventData:p(e.eventData),requestData:p(e.requestData)}}},getChilds(e,t,a){if(t&&t.length>0){const o=[];return t.forEach(((t,n)=>{if("tab"==t.kind){const s=[];s.push(e(t.componentsName,{key:t.kind+"_"+t.type+"_"+a+"_"+n,props:this.getChildProps(t),on:{input:e=>{e!=t.disableData.normalIndex&&(t.disableData={...t.disableData,normalIndex:e})}}}));const r=t.disableData.normalIndex,l=t.propsData.tabsConfig.value,i=l[r].children.value;s.push(this.getChilds(e,i,r)),t.propsData.isFixedTop&&"1"==t.propsData.isFixedTop.value&&l.forEach((e=>{this.childLazyLoad(e.children.value)})),o.push(e("div",{},s))}else if("container"==t.kind)o.push(e(t.componentsName,{key:t.kind+"_"+t.type+"_"+a+"_"+n,props:this.getChildProps(t)},[this.getChilds(e,t.propsData.children.value,0)]));else if("auto"==t.kind)if(t.propsData.componentName&&t.propsData.componentName.value){const a=t.propsData.componentName.value,n=p(t.extraData);this.$scopedSlots[a]?o.push(e("div",{},this.$scopedSlots[a](n.extra))):console.log(a+"- no slot modules")}else console.log("no slot name");else t.componentsName&&o.push(e(t.componentsName,{key:t.kind+"_"+t.type+"_"+a+"_"+n,props:this.getChildProps(t)}))})),o}return e("div",{},[])}},render(e){return e("div",{style:{width:"100%",height:"auto"}},[this.getChilds(e,this.config,0)])}};function h(e){if(e.all&&e.all.styleData){const t=(e.all.styleData.pageBackageColor||{}).value,a=(e.all.styleData.colorList||{}).value||[];if(t){if(0==t.indexOf("#"))return t;if(0==t.indexOf("keys")){let e="";for(let o=0;o<a.length;o++){const n=a[o]||{};if((n.keys||{}).value==t){e=(n.color||{}).value;break}}return e}}}return""}function y(e,t){if(t){const a=t.value||[];if(e){if(0==e.indexOf("#"))return e;if(0==e.indexOf("keys")){let t="";for(let o=0;o<a.length;o++){const n=a[o]||{};if((n.keys||{}).value==e){t=(n.color||{}).value;break}}return t}}}return""}function v(e,t){const a=e.all.propsData;document.getElementById("app").style.setProperty("background",h(e)),document.title=a.page_title.value||""}var m={init:v},D=a(77084);const k="__page_checkout_save_config__";async function b(e){if("localhost"==window.location.hostname){if(window.localStorage){const a=window.localStorage.getItem(k+e);if(!a)return{};try{const t=JSON.parse(a);return console.log("本地读取数据",e),t||{}}catch(t){console.log("出错",t)}}return{}}return new Promise((function(t,a){D.A.get("/page/get/detail",{id:e},((e,o)=>{if(1==e){const e=((o.data.list||[])[0]||{}).page_msg||"",a=JSON.parse(e);t(a)}else a("")}))}))}var _=function(){var e=this,t=e._self._c;return t("div",{staticClass:"icon_container"},["loading"==e.type?t("IconLoading"):"refresh"==e.type?t("IconRefresh",{attrs:{isRun:e.isRun}}):"select-circle"==e.type?t("SelectCircle",{attrs:{selected:e.selected,color:e.color}}):"select-square"==e.type?t("SelectSquare",{attrs:{selected:e.selected,color:e.color}}):"close"==e.type?t("IconClose",{attrs:{showBorder:e.showBorder,color:e.color},on:{click:e.onClick}}):"play"==e.type?t("IconPlay",{on:{click:e.onClick}}):e._e()],1)},O=[],C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"icon_loading",class:{run:e.isRun}},[t("img",{attrs:{src:"https://cdn.pokekara.com/int/webkara/pstatic/loading.png"}})])},S=[],w={name:"IconLoading",props:{isRun:{type:Boolean,default(){return!0}}}},x=w,N=a(81656),I=(0,N.A)(x,C,S,!1,null,"49eb136c",null),L=I.exports,A=function(){var e=this,t=e._self._c;return t("div",{staticClass:"icon_loading",class:{run:e.isRun}},[t("img",{attrs:{src:"https://cdn.pokekara.com/int/webkara/pstatic/components/refresh.png"}})])},P=[],j={name:"IconRefresh",props:{isRun:{type:Boolean,default(){return!1}}}},J=j,T=(0,N.A)(J,A,P,!1,null,"8c7dac46",null),q=T.exports,R=function(){var e=this,t=e._self._c;return t("div",{staticClass:"icon_loading"},[t("div",{staticClass:"circle",class:{selected:e.selected},style:{border:"0.04rem solid "+e.color,background:e.selected?e.color:""}},[t("img",{attrs:{src:"https://cdn.pokekara.com/int/webkara/pstatic/components/202108212216/check.png"}})])])},B=[],E={name:"SelectCircle",props:{selected:{type:Boolean,default(){return!1}},color:{type:String,default(){return"red"}}}},$=E,F=(0,N.A)($,R,B,!1,null,"69fd66b6",null),K=F.exports,z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"icon_loading"},[e.selected?t("img",{attrs:{src:"https://cdn.pokekara.com/sp1/pokekara/png/large/65/cd/651e25ea281b1f155172dcefa2fe04cd_38-38-0.png"}}):t("img",{attrs:{src:"https://cdn.pokekara.com/sp1/pokekara/png/large/fe/36/fe436fe46d34176c02ae359b5afaea36_44-44-0.png"}})])},V=[],U={name:"SelectSquare",props:{selected:{type:Boolean,default(){return!1}}}},M=U,Q=(0,N.A)(M,z,V,!1,null,"7bafa2d8",null),G=Q.exports,H=function(){var e=this,t=e._self._c;return t("div",{staticClass:"icon_close",on:{click:e.onClick}},[t("div",{staticClass:"close",class:{border:e.showBorder},style:"border-color:"+e.color},[t("div",{staticClass:"after",style:"background:"+e.color}),t("div",{staticClass:"before",style:"background:"+e.color})])])},W=[],X={name:"IconClose",props:{showBorder:{type:Boolean,default:()=>!1},color:{type:String,default:()=>"#ffffff"}},methods:{onClick(){this.$emit("click")}}},Y=X,Z=(0,N.A)(Y,H,W,!1,null,"1189ba4d",null),ee=Z.exports,te=function(){var e=this,t=e._self._c;return t("div",{staticClass:"icon_play",on:{click:e.onClick}},[t("img",{attrs:{src:"https://cdn.pokekara.com/int/webkara/pstatic/20201013/feed/11.png"}})])},ae=[],oe={name:"IconPlay",methods:{onClick(){this.$emit("click")}}},ne=oe,se=(0,N.A)(ne,te,ae,!1,null,"14ae041c",null),re=se.exports,le={name:"IconIndex",props:{type:{type:String,default(){return""}},isRun:{type:Boolean,default(){return!1}},showBorder:{type:Boolean,default(){return!1}},selected:{type:Boolean,default(){return!1}},color:{type:String,default(){return"#ffffff"}}},components:{IconLoading:L,IconRefresh:q,IconClose:ee,SelectCircle:K,SelectSquare:G,IconPlay:re},methods:{onClick(){this.$emit("click")}}},ie=le,ce=(0,N.A)(ie,_,O,!1,null,"ef3f7660",null),ue=ce.exports,pe=a(75364),de={name:"AutoPage",components:{OnLinePreview:g,Icons:ue},data:()=>({configData:{},loaded:!1}),methods:{async getConfig(){if(this.$root.pageId){const e=await b(this.$root.pageId),t=f(e,this.$root.pageId);m.init(t,this.$root.pageId),this.configData=t,this.$emit("eventLoadedFunc",JSON.parse(JSON.stringify(t))),this.loaded=!0}else window.alert("evt_id required!")},getKeyVal(e){const t={};return e.forEach((e=>{if("json"==e.cusType){let o={};try{o=JSON.parse(e.value),"string"==typeof o&&(o=JSON.parse(o))}catch(a){o={}}t[e.key]=o}else if("color"==e.cusType){const a=(((this.configData||{}).all||{}).styleData||{}).colorList||[];t[e.key]=y(e.value,a)}else t[e.key]=e.value})),t}},created(){(0,pe.zQ)()&&(this.$root.loginUserUid="123")},mounted(){this.getConfig()}},fe=de,ge=(0,N.A)(fe,r,l,!1,null,null,null),he=ge.exports,ye=function(){var e=this,t=e._self._c;return t("div",{staticClass:"slot_desc"},[e._v(" props:"+e._s(e.msg)+" ")])},ve=[],me={name:"TestProps",props:["msg","data"],data:()=>({}),components:{},methods:{},computed:{},mounted(){console.log("--test-props--",this.msg)}},De=me,ke=(0,N.A)(De,ye,ve,!1,null,"0aaabf99",null),be=ke.exports,_e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"slot_desc"},[e._v(" normal:"+e._s(e.msg)+" ")])},Oe=[],Ce={name:"TestNormal",props:["msg","data"],data:()=>({}),components:{},methods:{},computed:{},mounted(){console.log("--test-normal--",this.msg)}},Se=Ce,we=(0,N.A)(Se,_e,Oe,!1,null,"1b3589a6",null),xe=we.exports,Ne={name:"App",components:{AutoPage:he,TestProps:be,TestNormal:xe},data:()=>({}),methods:{eventLoadedFunc(e){console.log("活动配置信息(json处理过的)：",e)}},mounted(){}},Ie=Ne,Le=(0,N.A)(Ie,n,s,!1,null,"a07af904",null),Ae=Le.exports,Pe=a(17318);o["default"].config.productionTip=!1,o["default"].config.devtools=!1,o["default"].use(Pe.A,{preLoad:1.3,error:"https://cdn.pokekara.com/int/webkara/pstatic/user.png",loading:"https://cdn.pokekara.com/int/webkara/pstatic/user.png",attempt:1});const{id:je="1"}=(0,pe.qI)();new o["default"]({data(){return{pageId:je,loginUserUid:""}},method:{},created(){},render:e=>e(Ae)}).$mount("#app")}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var s=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,o,n,s){if(!o){var r=1/0;for(u=0;u<e.length;u++){o=e[u][0],n=e[u][1],s=e[u][2];for(var l=!0,i=0;i<o.length;i++)(!1&s||r>=s)&&Object.keys(a.O).every((function(e){return a.O[e](o[i])}))?o.splice(i--,1):(l=!1,s<r&&(r=s));if(l){e.splice(u--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var u=e.length;u>0&&e[u-1][2]>s;u--)e[u]=e[u-1];e[u]=[o,n,s]}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.e=function(){return Promise.resolve()}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.j=79}(),function(){var e={79:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,s,r=o[0],l=o[1],i=o[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(i)var u=i(a)}for(t&&t(o);c<r.length;c++)s=r[c],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(u)},o=self["webpackChunktools"]=self["webpackChunktools"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504,996],(function(){return a(51243)}));o=a.O(o)})();
//# sourceMappingURL=auto_active.63a24b37.js.map